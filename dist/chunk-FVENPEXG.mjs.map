{"version":3,"sources":["../src/utilityClassesGenerator.ts","../src/logger.ts","../src/vite-plugin-utility-classes.ts"],"sourcesContent":["import { readFileSync } from 'fs'\nimport { join } from 'path'\nimport { parse as parseYaml } from 'yaml'\nimport { capitalize } from './utils.js'\n\nexport interface UtilityClassDefinition {\n  category: string\n  label: string\n  description?: string\n  links?: string[]\n  options: Record<string, string>\n  previewed_with?: string[]\n  enabled?: boolean\n}\n\nexport interface UtilityClassesConfig {\n  [key: string]: UtilityClassDefinition\n}\n\n/**\n * Parses the utility classes YAML file and returns the configuration\n */\nexport function parseUtilityClassesYaml(filePath: string): UtilityClassesConfig {\n  try {\n    const fileContent = readFileSync(filePath, 'utf8')\n    return parseYaml(fileContent)\n  } catch (error) {\n    throw new Error(`Failed to parse utility classes YAML: ${error}`)\n  }\n}\n\n/**\n * Generate demo content without hardcoded group checks; allow YAML to override via preview_content\n */\nexport function generateDemoContent(definition: any, className: string, label?: string): string {\n  if (typeof definition?.preview_content === 'string') {\n    return definition.preview_content\n  }\n  return label || 'Demo'\n}\n\n/**\n * Generate preview HTML for each option\n */\nexport function generatePreviewHtml(definition: any, className: string, label: string, previewedWith: string[] = []): string {\n  const previewClasses = previewedWith.join(' ')\n  const combinedClasses = `${className} ${previewClasses}`.trim()\n  const demoContent = generateDemoContent(definition, className, label)\n  \n  return `\n    <div class=\"utility-item\">\n      <div class=\"utility-label\">\n        <code>${className}</code>\n      </div>\n      <div class=\"utility-preview\">\n        <div class=\"${combinedClasses}\">\n          ${demoContent}\n        </div>\n      </div>\n    </div>`\n}\n\n/**\n * Generates a story template for a utility class group (generic version)\n */\nexport function generateStory(namespace: string, groupKey: string, definition: any): string {\n  const { category, label, description, options, previewed_with = [], links = [] } = definition\n  \n  // Skip disabled utility classes\n  if (definition.enabled === false) {\n    return ''\n  }\n\n  const storyKey = groupKey\n\n  // Generate all option previews\n  const optionPreviews = Object.entries(options)\n    .map(([className, optionLabel]) => generatePreviewHtml(definition, className as string, optionLabel as string, previewed_with))\n    .join('\\n')\n\n  // Generate links section if available\n  const linksSection = links.length > 0 \n    ? `\n          <h4>Related Links:</h4>\n          <ul>\n            ${links.map((link: string) => `<li><a href=\"${link}\" target=\"_blank\" rel=\"noopener\">${link}</a></li>`).join('')}\n          </ul>`\n    : ''\n\n  return `\nexport const ${storyKey} = {\n  title: '${namespace}/Utility Classes/${category}/${label}',\n  parameters: {\n    docs: {\n      description: {\n        story: \\`${description || `Utility classes for ${label.toLowerCase()}`}\\`\n      }\n    }\n  },\n  render: () => {\n    return \\`\n      <div class=\"utility-demo\">\n        <h2>${label}</h2>\n        ${description ? `<p>${description}</p>` : ''}\n        ${linksSection}\n        <div class=\"utility-grid\">\n          ${optionPreviews}\n        </div>\n      </div>\n    \\`\n  },\n  play: async ({ canvasElement }) => {\n    Drupal.attachBehaviors(canvasElement, window.drupalSettings)\n  },\n}`\n}\n\n/**\n * Generates a story template for a utility class group (legacy version for backward compatibility)\n */\nexport function generateUtilityClassStory(\n  groupKey: string,\n  definition: UtilityClassDefinition\n): string {\n  return generateStory('Utility Classes', groupKey, definition)\n}\n\n/**\n * Generates the complete stories file content for utility classes (legacy function)\n */\nexport function generateUtilityClassesStories(config: UtilityClassesConfig): string {\n  const stories = Object.entries(config)\n    .map(([groupKey, definition]) => generateUtilityClassStory(groupKey, definition))\n    .filter(Boolean) // Remove empty strings from disabled utilities\n    .join('\\n\\n')\n\n  return `// Auto-generated utility classes stories\n// Generated from *.ui_styles.yml files\n\n${stories}\n\n// Default export for the story file\nexport default {\n  title: 'Utility Classes',\n  parameters: {\n    docs: {\n      description: {\n        story: 'Utility classes documentation generated from YAML configuration'\n      }\n    }\n  }\n}`\n}\n\n/**\n * Generate base story structure (common to both autodocs and individual stories)\n */\nexport function generateBaseStoryStructure(comment: string, additionalContent: string, yamlPath: string, namespace: string): string {\n  return [\n    comment,\n    `// Generated from ${yamlPath}`,\n    '',\n    'export default {',\n    `  title: '${namespace}/Utility Classes',`,\n    '  parameters: {',\n    '    docs: {',\n    '      description: {',\n    `        story: 'Utility classes documentation generated from ${yamlPath}'`,\n    '      }',\n    '    }',\n    '  }',\n    '}',\n    '',\n    additionalContent,\n  ].join('\\n')\n}\n\n/**\n * Generate autodocs content for all utilities\n */\nexport function generateAutodocsContent(utilities: [string, any][]): string {\n  const allUtilityPreviews = utilities\n    .map(([groupKey, definition]) => {\n      const { category, label, description, options, previewed_with = [], links = [] } = definition\n      \n      if (definition.enabled === false) return ''\n\n      const optionPreviews = Object.entries(options)\n        .map(([className, optionLabel]) => generatePreviewHtml(definition, className as string, optionLabel as string, previewed_with))\n        .join('\\n')\n\n      const linksSection = links.length > 0 \n        ? `\n          <h4>Related Links:</h4>\n          <ul>\n            ${links.map((link: string) => `<li><a href=\"${link}\" target=\"_blank\" rel=\"noopener\">${link}</a></li>`).join('')}\n          </ul>`\n        : ''\n\n      return `\n        <div class=\"utility-demo\">\n          <h2>${label}</h2>\n          ${description ? `<p>${description}</p>` : ''}\n          ${linksSection}\n          <div class=\"utility-grid\">\n            ${optionPreviews}\n          </div>\n        </div>`\n    })\n    .filter(Boolean)\n    .join('\\n\\n')\n\n  return [\n    'export const Docs = {',\n    `  tags: ['autodocs'],`,\n    '  render: () => {',\n    '    return `',\n    allUtilityPreviews,\n    '    `',\n    '  }',\n    '}',\n  ].join('\\n')\n}\n\n/**\n * Generate individual stories content\n */\nexport function generateIndividualStoriesContent(utilities: [string, any][], namespace: string): string {\n  return utilities\n    .map(([groupKey, definition]) => generateStory(namespace, groupKey as string, definition))\n    .filter(Boolean)\n    .join('\\n\\n')\n}\n\n/**\n * Generates CSS styles for the utility classes demo\n */\nexport function generateUtilityClassesCSS(): string {\n  return `\n/* Utility Classes Demo Styles - Using Storybook-compatible classes */\n.utility-demo {\n  /* Use Storybook's docs container styling */\n  padding: 1rem;\n}\n\n.utility-demo h2 {\n  margin: 0 0 1rem 0;\n  border-bottom: 1px solid var(--color-border, #e5e7eb);\n  padding-bottom: 0.5rem;\n}\n\n.utility-demo p {\n  margin: 0 0 1rem 0;\n  color: var(--color-text-secondary, #6b7280);\n  font-size: 0.875rem;\n}\n\n.utility-demo h4 {\n  margin: 1rem 0 0.5rem 0;\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text, #374151);\n}\n\n.utility-demo ul {\n  margin: 0;\n  padding-left: 1.5rem;\n}\n\n.utility-demo li {\n  margin-bottom: 0.25rem;\n}\n\n.utility-demo a {\n  color: var(--color-primary, #3b82f6);\n  text-decoration: none;\n  font-size: 0.875rem;\n}\n\n.utility-demo a:hover {\n  text-decoration: underline;\n}\n\n/* Use CSS Grid with CSS custom properties for better Storybook integration */\n.utility-grid {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n\n.utility-item {\n  border: 1px solid var(--color-border, #e5e7eb);\n  border-radius: 0.5rem;\n  padding: 1rem;\n  background: var(--color-background, #ffffff);\n}\n\n.utility-label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border-subtle, #f3f4f6);\n}\n\n.utility-label code {\n  background: var(--color-background-subtle, #f3f4f6);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.25rem;\n  font-family: var(--font-family-mono, 'Monaco', 'Menlo', 'Ubuntu Mono', monospace);\n  font-size: 0.75rem;\n  color: var(--color-error, #dc2626);\n  font-weight: 600;\n}\n\n\n.utility-preview {\n  min-height: 2rem;\n  display: flex;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-background-subtle, #f9fafb);\n  border-radius: 0.25rem;\n}\n`\n}\n\n/**\n * Main function to generate utility classes stories from YAML file\n */\nexport function generateUtilityClassesFromYaml(yamlFilePath: string, outputDir: string): void {\n  try {\n    // Parse the YAML configuration\n    const config = parseUtilityClassesYaml(yamlFilePath)\n    \n    // Generate the stories content\n    const storiesContent = generateUtilityClassesStories(config)\n    \n    // Generate CSS content\n    const cssContent = generateUtilityClassesCSS()\n    \n    // Write the stories file\n    const storiesPath = join(outputDir, 'utility-classes.stories.js')\n    require('fs').writeFileSync(storiesPath, storiesContent, 'utf8')\n    \n    // Write the CSS file\n    const cssPath = join(outputDir, 'utility-classes.css')\n    require('fs').writeFileSync(cssPath, cssContent, 'utf8')\n    \n    console.log(`âœ… Generated utility classes stories: ${storiesPath}`)\n    console.log(`âœ… Generated utility classes CSS: ${cssPath}`)\n    \n  } catch (error) {\n    console.error('âŒ Error generating utility classes stories:', error)\n    throw error\n  }\n}\n\n\n","// Simple logger implementation for ui-styles-storybook package\nexport const logger = {\n  info: (message: string, ...args: any[]) => {\n    console.log(`â„¹ï¸  ${message}`, ...args)\n  },\n  warn: (message: string, ...args: any[]) => {\n    console.warn(`âš ï¸  ${message}`, ...args)\n  },\n  error: (message: string, ...args: any[]) => {\n    console.error(`âŒ ${message}`, ...args)\n  },\n  debug: (message: string, ...args: any[]) => {\n    console.debug(`ðŸ› ${message}`, ...args)\n  }\n}\n\n\n","import type { Plugin } from 'vite'\nimport type { Indexer, IndexInput } from 'storybook/internal/types'\nimport { readFileSync } from 'fs'\nimport { join } from 'path'\nimport { parse as parseYaml } from 'yaml'\nimport { logger } from './logger.js'\nimport { \n  generateUtilityClassesCSS, \n  generateStory, \n  generateBaseStoryStructure,\n  generateAutodocsContent,\n  generateIndividualStoriesContent\n} from './utilityClassesGenerator.js'\n\n// Helper function to capitalize strings\nconst capitalize = (str: string) => str[0].toUpperCase() + str.slice(1)\n\n// Determine if a config entry is a utility definition\nconst isUtilityDefinition = (value: any): boolean => {\n  return (\n    value &&\n    typeof value === 'object' &&\n    typeof value.options === 'object' &&\n    value.options !== null\n  )\n}\n\n// Derive namespace from YAML file path\nconst deriveNamespaceFromPath = (yamlPath: string): string => {\n  const parts = yamlPath.split('/')\n  // Prefer parent directory name as namespace; fallback to filename without extension(s)\n  if (parts.length > 1) {\n    return parts[parts.length - 2]\n  }\n  const base = parts[parts.length - 1]\n  return base.replace(/\\.ui_styles\\.yml$/, '')\n}\n\n// Check if a parsed ui_styles config requests disabling generation\nconst isConfigDisabled = (config: Record<string, any>): boolean => {\n  const tps = config?.thirdPartySettings || {}\n  const sdcStorybook = tps?.sdcStorybook || {}\n  const utilityClassesA = tps?.utilityClasses || {}\n  const utilityClassesB = sdcStorybook?.utilityClasses || {}\n  const disableA = tps?.disableUtilityClasses\n  const disableB = sdcStorybook?.disableUtilityClasses\n  // Also support top-level flags if provided\n  const topLevel = config?.utilityClasses || {}\n  return (\n    config?.enabled === false ||\n    utilityClassesA?.enabled === false ||\n    utilityClassesB?.enabled === false ||\n    topLevel?.enabled === false ||\n    disableA === true ||\n    disableB === true ||\n    config?.disableUtilityClasses === true\n  )\n}\n\n// Generate story content from a ui_styles.yml file\nconst generateUtilityClassesStory = (filePath: string): string => {\n  try {\n    if (!filePath.endsWith('.ui_styles.yml')) {\n      return ''\n    }\n\n    const fileContent = readFileSync(filePath, 'utf8')\n    const config = parseYaml(fileContent) as Record<string, any>\n\n    // Respect disable flags in the config\n    if (isConfigDisabled(config)) {\n      logger.info(`Skipping utility classes generation for disabled file: ${filePath}`)\n      return ''\n    }\n\n    // Extract only utility definition entries from this file\n    const utilities = Object.entries(config)\n      .filter(([, value]) => isUtilityDefinition(value))\n\n    if (utilities.length === 0) {\n      logger.info(`No utility definitions found in ${filePath}`)\n      return ''\n    }\n\n    const namespace = deriveNamespaceFromPath(filePath)\n\n    // Global autodocs tags from thirdPartySettings per YAML file\n    const tps = config?.thirdPartySettings || {}\n    const sdcStorybook = tps?.sdcStorybook || {}\n    const globalTags: string[] = Array.isArray(sdcStorybook?.tags) ? sdcStorybook.tags : []\n    const hasAutodocs = globalTags.includes('autodocs')\n\n    // Include CSS in the story content\n    const cssContent = generateUtilityClassesCSS()\n\n    let storiesContent: string\n\n    if (hasAutodocs) {\n      // Generate simple docs definition without individual stories\n      const docsContent = generateAutodocsContent(utilities)\n      storiesContent = generateBaseStoryStructure(\n        '// Auto-generated utility classes documentation', \n        docsContent, \n        filePath, \n        namespace\n      )\n    } else {\n      // Generate individual stories (original behavior)\n      const stories = generateIndividualStoriesContent(utilities, namespace)\n      storiesContent = generateBaseStoryStructure(\n        '// Auto-generated utility classes stories', \n        stories, \n        filePath, \n        namespace\n      )\n    }\n\n    // Include CSS in the story content (will be injected in render functions)\n    // For now, return just the stories content - CSS will be handled in previewHead or in each story render\n    return storiesContent\n  } catch (error) {\n    logger.error(`Error generating utility classes story from ${filePath}: ${error}`)\n    throw error\n  }\n}\n\nexport interface UtilityClassesPluginOptions {\n  /**\n   * Namespaces to search for utility style files\n   */\n  namespaces?: Record<string, string>\n}\n\n/**\n * Vite plugin for automatic utility classes generation from *.ui_styles.yml files\n */\nexport default function vitePluginUtilityClasses(options: UtilityClassesPluginOptions = {}): Plugin {\n  return {\n    name: 'vite-plugin-utility-classes',\n    \n    async load(id: string) {\n      if (!id.endsWith('.ui_styles.yml')) return\n\n      try {\n        logger.info(`Processing utility classes file: ${id}`)\n        \n        const storyContent = generateUtilityClassesStory(id)\n        \n        if (!storyContent) {\n          logger.info(`No story content generated for ${id}`)\n          return ''\n        }\n        \n        return storyContent\n      } catch (error) {\n        logger.error(`Error loading utility classes file: ${id}, ${error}`)\n        throw error\n      }\n    },\n  }\n}\n\n// Indexer for UI Styles YAML files\nexport const utilityClassesIndexer: Indexer = {\n  test: /\\.ui_styles\\.yml$/,\n  createIndex: async (fileName, { makeTitle }) => {\n    try {\n      const content = parseYaml(readFileSync(fileName, 'utf8')) as any\n      \n      if (isConfigDisabled(content)) {\n        logger.info(`Utility classes file ${fileName} is disabled, skipping index`)\n        return []\n      }\n\n      // Extract utilities to determine if there's content\n      const utilities = Object.entries(content)\n        .filter(([, value]) => isUtilityDefinition(value))\n\n      if (utilities.length === 0) {\n        return []\n      }\n\n      const namespace = deriveNamespaceFromPath(fileName)\n      \n      // Check if autodocs mode\n      const tps = content?.thirdPartySettings || {}\n      const sdcStorybook = tps?.sdcStorybook || {}\n      const globalTags: string[] = Array.isArray(sdcStorybook?.tags) ? sdcStorybook.tags : []\n      const hasAutodocs = globalTags.includes('autodocs')\n      \n      const tags = ['utility-classes']\n      \n      if (hasAutodocs) {\n        // Return single entry for autodocs mode\n        const baseTitle = makeTitle(`${namespace}/Utility Classes`)\n        return [{\n          type: 'story' as const,\n          importPath: fileName,\n          exportName: 'Docs',\n          title: baseTitle,\n          tags: [...tags, 'autodocs'],\n        }]\n      } else {\n        // Return one entry per utility group for individual stories mode\n        return utilities.map(([groupKey, definition]: [string, any]) => {\n          if (definition.enabled === false) {\n            return null\n          }\n          const { category, label } = definition\n          const baseTitle = makeTitle(`${namespace}/Utility Classes/${category}/${label}`)\n          return {\n            type: 'story' as const,\n            importPath: fileName,\n            exportName: groupKey,\n            title: baseTitle,\n            tags,\n          }\n        }).filter(Boolean) as any[]\n      }\n    } catch (error) {\n      logger.error(`Error creating index for utility classes file: ${fileName}, ${error}`)\n      throw error\n    }\n  },\n}"],"mappings":"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","names":["readFileSync","parseYaml","readFileSync","parseYaml"]}