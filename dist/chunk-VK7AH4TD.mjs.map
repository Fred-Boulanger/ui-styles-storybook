{"version":3,"sources":["../src/utilityClassesGenerator.ts","../src/logger.ts","../src/vite-plugin-utility-classes.ts"],"sourcesContent":["import { readFileSync } from 'fs'\nimport { join } from 'path'\nimport { parse as parseYaml } from 'yaml'\nimport { capitalize } from './utils.js'\n\nexport interface UtilityClassDefinition {\n  category: string\n  label: string\n  description?: string\n  links?: string[]\n  options: Record<string, string>\n  previewed_with?: string[]\n  enabled?: boolean\n}\n\nexport interface UtilityClassesConfig {\n  [key: string]: UtilityClassDefinition\n}\n\n/**\n * Parses the utility classes YAML file and returns the configuration\n */\nexport function parseUtilityClassesYaml(filePath: string): UtilityClassesConfig {\n  try {\n    const fileContent = readFileSync(filePath, 'utf8')\n    return parseYaml(fileContent)\n  } catch (error) {\n    throw new Error(`Failed to parse utility classes YAML: ${error}`)\n  }\n}\n\n/**\n * Generate demo content without hardcoded group checks; allow YAML to override via preview_content\n */\nexport function generateDemoContent(definition: any, className: string, label?: string): string {\n  if (typeof definition?.preview_content === 'string') {\n    return definition.preview_content\n  }\n  return label || 'Demo'\n}\n\n/**\n * Generate preview HTML for each option\n */\nexport function generatePreviewHtml(definition: any, className: string, label: string, previewedWith: string[] = []): string {\n  const previewClasses = previewedWith.join(' ')\n  const combinedClasses = `${className} ${previewClasses}`.trim()\n  const demoContent = generateDemoContent(definition, className, label)\n  \n  return `\n    <div class=\"utility-item\">\n      <div class=\"utility-label\">\n        <code>${className}</code>\n      </div>\n      <div class=\"utility-preview\">\n        <div class=\"${combinedClasses}\">\n          ${demoContent}\n        </div>\n      </div>\n    </div>`\n}\n\n/**\n * Generates a story template for a utility class group (generic version)\n */\nexport function generateStory(namespace: string, groupKey: string, definition: any): string {\n  const { category, label, description, options, previewed_with = [], links = [] } = definition\n  \n  // Skip disabled utility classes\n  if (definition.enabled === false) {\n    return ''\n  }\n\n  const storyKey = groupKey\n\n  // Generate all option previews\n  const optionPreviews = Object.entries(options)\n    .map(([className, optionLabel]) => generatePreviewHtml(definition, className as string, optionLabel as string, previewed_with))\n    .join('\\n')\n\n  // Generate links section if available\n  const linksSection = links.length > 0 \n    ? `\n          <h4>Related Links:</h4>\n          <ul>\n            ${links.map((link: string) => `<li><a href=\"${link}\" target=\"_blank\" rel=\"noopener\">${link}</a></li>`).join('')}\n          </ul>`\n    : ''\n\n  return `\nexport const ${storyKey} = {\n  title: '${namespace}/Utility Classes/${category}/${label}',\n  parameters: {\n    docs: {\n      description: {\n        story: \\`${description || `Utility classes for ${label.toLowerCase()}`}\\`\n      }\n    }\n  },\n  render: () => {\n    return \\`\n      <div class=\"utility-demo\">\n        <h2>${label}</h2>\n        ${description ? `<p>${description}</p>` : ''}\n        ${linksSection}\n        <div class=\"utility-grid\">\n          ${optionPreviews}\n        </div>\n      </div>\n    \\`\n  },\n  play: async ({ canvasElement }) => {\n    Drupal.attachBehaviors(canvasElement, window.drupalSettings)\n  },\n}`\n}\n\n/**\n * Generates a story template for a utility class group (legacy version for backward compatibility)\n */\nexport function generateUtilityClassStory(\n  groupKey: string,\n  definition: UtilityClassDefinition\n): string {\n  return generateStory('Utility Classes', groupKey, definition)\n}\n\n/**\n * Generates the complete stories file content for utility classes (legacy function)\n */\nexport function generateUtilityClassesStories(config: UtilityClassesConfig): string {\n  const stories = Object.entries(config)\n    .map(([groupKey, definition]) => generateUtilityClassStory(groupKey, definition))\n    .filter(Boolean) // Remove empty strings from disabled utilities\n    .join('\\n\\n')\n\n  return `// Auto-generated utility classes stories\n// Generated from *.ui_styles.yml files\n\n${stories}\n\n// Default export for the story file\nexport default {\n  title: 'Utility Classes',\n  parameters: {\n    docs: {\n      description: {\n        story: 'Utility classes documentation generated from YAML configuration'\n      }\n    }\n  }\n}`\n}\n\n/**\n * Generate base story structure (common to both autodocs and individual stories)\n */\nexport function generateBaseStoryStructure(comment: string, additionalContent: string, yamlPath: string, namespace: string): string {\n  return [\n    comment,\n    `// Generated from ${yamlPath}`,\n    '',\n    'export default {',\n    `  title: '${namespace}/Utility Classes',`,\n    '  parameters: {',\n    '    docs: {',\n    '      description: {',\n    `        story: 'Utility classes documentation generated from ${yamlPath}'`,\n    '      }',\n    '    }',\n    '  }',\n    '}',\n    '',\n    additionalContent,\n  ].join('\\n')\n}\n\n/**\n * Generate autodocs content for all utilities\n */\nexport function generateAutodocsContent(utilities: [string, any][]): string {\n  const allUtilityPreviews = utilities\n    .map(([groupKey, definition]) => {\n      const { category, label, description, options, previewed_with = [], links = [] } = definition\n      \n      if (definition.enabled === false) return ''\n\n      const optionPreviews = Object.entries(options)\n        .map(([className, optionLabel]) => generatePreviewHtml(definition, className as string, optionLabel as string, previewed_with))\n        .join('\\n')\n\n      const linksSection = links.length > 0 \n        ? `\n          <h4>Related Links:</h4>\n          <ul>\n            ${links.map((link: string) => `<li><a href=\"${link}\" target=\"_blank\" rel=\"noopener\">${link}</a></li>`).join('')}\n          </ul>`\n        : ''\n\n      return `\n        <div class=\"utility-demo\">\n          <h2>${label}</h2>\n          ${description ? `<p>${description}</p>` : ''}\n          ${linksSection}\n          <div class=\"utility-grid\">\n            ${optionPreviews}\n          </div>\n        </div>`\n    })\n    .filter(Boolean)\n    .join('\\n\\n')\n\n  return [\n    'export const Docs = {',\n    `  tags: ['autodocs'],`,\n    '  render: () => {',\n    '    return `',\n    allUtilityPreviews,\n    '    `',\n    '  }',\n    '}',\n  ].join('\\n')\n}\n\n/**\n * Generate individual stories content\n */\nexport function generateIndividualStoriesContent(utilities: [string, any][], namespace: string): string {\n  return utilities\n    .map(([groupKey, definition]) => generateStory(namespace, groupKey as string, definition))\n    .filter(Boolean)\n    .join('\\n\\n')\n}\n\n/**\n * Generates CSS styles for the utility classes demo\n */\nexport function generateUtilityClassesCSS(): string {\n  return `\n/* Utility Classes Demo Styles - Using Storybook-compatible classes */\n.utility-demo {\n  /* Use Storybook's docs container styling */\n  padding: 1rem;\n}\n\n.utility-demo h2 {\n  margin: 0 0 1rem 0;\n  border-bottom: 1px solid var(--color-border, #e5e7eb);\n  padding-bottom: 0.5rem;\n}\n\n.utility-demo p {\n  margin: 0 0 1rem 0;\n  color: var(--color-text-secondary, #6b7280);\n  font-size: 0.875rem;\n}\n\n.utility-demo h4 {\n  margin: 1rem 0 0.5rem 0;\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--color-text, #374151);\n}\n\n.utility-demo ul {\n  margin: 0;\n  padding-left: 1.5rem;\n}\n\n.utility-demo li {\n  margin-bottom: 0.25rem;\n}\n\n.utility-demo a {\n  color: var(--color-primary, #3b82f6);\n  text-decoration: none;\n  font-size: 0.875rem;\n}\n\n.utility-demo a:hover {\n  text-decoration: underline;\n}\n\n/* Use CSS Grid with CSS custom properties for better Storybook integration */\n.utility-grid {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n\n.utility-item {\n  border: 1px solid var(--color-border, #e5e7eb);\n  border-radius: 0.5rem;\n  padding: 1rem;\n  background: var(--color-background, #ffffff);\n}\n\n.utility-label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--color-border-subtle, #f3f4f6);\n}\n\n.utility-label code {\n  background: var(--color-background-subtle, #f3f4f6);\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.25rem;\n  font-family: var(--font-family-mono, 'Monaco', 'Menlo', 'Ubuntu Mono', monospace);\n  font-size: 0.75rem;\n  color: var(--color-error, #dc2626);\n  font-weight: 600;\n}\n\n\n.utility-preview {\n  min-height: 2rem;\n  display: flex;\n  align-items: center;\n  padding: 0.5rem;\n  background: var(--color-background-subtle, #f9fafb);\n  border-radius: 0.25rem;\n}\n`\n}\n\n/**\n * Main function to generate utility classes stories from YAML file\n */\nexport function generateUtilityClassesFromYaml(yamlFilePath: string, outputDir: string): void {\n  try {\n    // Parse the YAML configuration\n    const config = parseUtilityClassesYaml(yamlFilePath)\n    \n    // Generate the stories content\n    const storiesContent = generateUtilityClassesStories(config)\n    \n    // Generate CSS content\n    const cssContent = generateUtilityClassesCSS()\n    \n    // Write the stories file\n    const storiesPath = join(outputDir, 'utility-classes.stories.js')\n    require('fs').writeFileSync(storiesPath, storiesContent, 'utf8')\n    \n    // Write the CSS file\n    const cssPath = join(outputDir, 'utility-classes.css')\n    require('fs').writeFileSync(cssPath, cssContent, 'utf8')\n    \n    console.log(`‚úÖ Generated utility classes stories: ${storiesPath}`)\n    console.log(`‚úÖ Generated utility classes CSS: ${cssPath}`)\n    \n  } catch (error) {\n    console.error('‚ùå Error generating utility classes stories:', error)\n    throw error\n  }\n}\n\n\n","// Simple logger implementation for ui-styles-storybook package\nexport const logger = {\n  info: (message: string, ...args: any[]) => {\n    console.log(`‚ÑπÔ∏è  ${message}`, ...args)\n  },\n  warn: (message: string, ...args: any[]) => {\n    console.warn(`‚ö†Ô∏è  ${message}`, ...args)\n  },\n  error: (message: string, ...args: any[]) => {\n    console.error(`‚ùå ${message}`, ...args)\n  },\n  debug: (message: string, ...args: any[]) => {\n    console.debug(`üêõ ${message}`, ...args)\n  }\n}\n\n\n","import type { Plugin } from 'vite'\nimport { readFileSync, writeFileSync, existsSync, unlinkSync } from 'fs'\nimport { join, dirname, extname } from 'path'\nimport { parse as parseYaml } from 'yaml'\nimport { globSync } from 'glob'\nimport { logger } from './logger.js'\nimport { \n  generateUtilityClassesCSS, \n  generateStory, \n  generatePreviewHtml,\n  generateBaseStoryStructure,\n  generateAutodocsContent,\n  generateIndividualStoriesContent\n} from './utilityClassesGenerator.js'\n\n// Helper function to capitalize strings\nconst capitalize = (str: string) => str[0].toUpperCase() + str.slice(1)\n\n// Helper function to convert snake_case to Title Case\nconst toTitleCase = (str: string) => str.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n\n// Find all *.ui_styles.yml files in the project\nconst findUtilityStyleFiles = (rootDir: string, namespaces?: Record<string, string>): string[] => {\n  try {\n    const files: string[] = []\n    \n    // Search in current directory\n    const pattern = join(rootDir, '**', '*.ui_styles.yml')\n    const currentFiles = globSync(pattern)\n    files.push(...currentFiles)\n    \n    // Search in namespaces if provided\n    if (namespaces) {\n      for (const [namespaceName, namespacePath] of Object.entries(namespaces)) {\n        try {\n          const namespacePattern = join(namespacePath, '**', '*.ui_styles.yml')\n          const namespaceFiles = globSync(namespacePattern)\n          files.push(...namespaceFiles)\n          logger.info(`üîç Found ${namespaceFiles.length} utility style file(s) in namespace '${namespaceName}'`)\n        } catch (error) {\n          logger.warn(`‚ö†Ô∏è  Could not search in namespace '${namespaceName}': ${namespacePath}`)\n        }\n      }\n    }\n    \n    return files\n  } catch (error) {\n    logger.warn(`Error searching for *.ui_styles.yml files: ${error}`)\n    return []\n  }\n}\n\n// Determine if a config entry is a utility definition\nconst isUtilityDefinition = (value: any): boolean => {\n  return (\n    value &&\n    typeof value === 'object' &&\n    typeof value.options === 'object' &&\n    value.options !== null\n  )\n}\n\n// Derive namespace from YAML file path\nconst deriveNamespaceFromPath = (rootDir: string, yamlPath: string): string => {\n  const rel = yamlPath.startsWith(rootDir) ? yamlPath.slice(rootDir.length + 1) : yamlPath\n  const parts = rel.split('/')\n  // Prefer parent directory name as namespace; fallback to filename without extension(s)\n  if (parts.length > 1) {\n    return parts[parts.length - 2]\n  }\n  const base = parts[parts.length - 1]\n  return base.replace(/\\.ui_styles\\.yml$/, '')\n}\n\n// Check if a parsed ui_styles config requests disabling generation\nconst isConfigDisabled = (config: Record<string, any>): boolean => {\n  const tps = config?.thirdPartySettings || {}\n  const sdcStorybook = tps?.sdcStorybook || {}\n  const utilityClassesA = tps?.utilityClasses || {}\n  const utilityClassesB = sdcStorybook?.utilityClasses || {}\n  const disableA = tps?.disableUtilityClasses\n  const disableB = sdcStorybook?.disableUtilityClasses\n  // Also support top-level flags if provided\n  const topLevel = config?.utilityClasses || {}\n  return (\n    config?.enabled === false ||\n    utilityClassesA?.enabled === false ||\n    utilityClassesB?.enabled === false ||\n    topLevel?.enabled === false ||\n    disableA === true ||\n    disableB === true ||\n    config?.disableUtilityClasses === true\n  )\n}\n\nexport interface UtilityClassesPluginOptions {\n  /**\n   * Output directory for generated stories\n   * @default 'stories'\n   */\n  outputDir?: string\n  \n  /**\n   * Namespaces to search for utility style files\n   */\n  namespaces?: Record<string, string>\n  \n  /**\n   * Whether to generate on build start\n   * @default true\n   */\n  generateOnStart?: boolean\n  \n  /**\n   * Whether to watch for file changes\n   * @default true\n   */\n  watch?: boolean\n}\n\n/**\n * Vite plugin for automatic utility classes generation from *.ui_styles.yml files\n */\nexport default function vitePluginUtilityClasses(options: UtilityClassesPluginOptions = {}): Plugin {\n  const {\n    outputDir,\n    namespaces,\n    generateOnStart = true,\n    watch = true\n  } = options\n\n  let hasGenerated = false\n\n  const generateUtilityClasses = () => {\n    const rootDir = process.cwd()\n    const finalOutputDir = outputDir || join(rootDir, 'stories')\n    \n    // Find all *.ui_styles.yml files\n    const yamlFiles = findUtilityStyleFiles(rootDir, namespaces)\n    \n    if (yamlFiles.length === 0) {\n      logger.warn(`No *.ui_styles.yml files found in project`)\n      return\n    }\n\n    try {\n      logger.info(`Found ${yamlFiles.length} utility style file(s): ${yamlFiles.join(', ')}`)\n\n      // Clean legacy combined stories file if present\n      const legacyStoriesPath = join(finalOutputDir, 'utility-classes.stories.js')\n      if (existsSync(legacyStoriesPath)) {\n        try { unlinkSync(legacyStoriesPath) } catch {}\n      }\n\n      let numGenerated = 0\n      let wroteCss = false\n\n      // Process each YAML file individually (no merging)\n      yamlFiles.forEach(yamlPath => {\n        if (!existsSync(yamlPath)) return\n        \n        const fileContent = readFileSync(yamlPath, 'utf8')\n        const config = parseYaml(fileContent) as Record<string, any>\n\n        // Respect disable flags in the config\n        if (isConfigDisabled(config)) {\n          logger.info(`Skipping utility classes generation for disabled file: ${yamlPath}`)\n          // Remove previously generated file for this namespace, if exists\n          const ns = deriveNamespaceFromPath(rootDir, yamlPath)\n          const perFileStoriesPath = join(finalOutputDir, `utility-classes.${ns}.stories.js`)\n          try { if (existsSync(perFileStoriesPath)) unlinkSync(perFileStoriesPath) } catch {}\n          return\n        }\n\n        // Extract only utility definition entries from this file\n        const utilities = Object.entries(config)\n          .filter(([, value]) => isUtilityDefinition(value))\n\n        if (utilities.length === 0) {\n          logger.info(`No utility definitions found in ${yamlPath}`)\n          return\n        }\n\n        const namespace = deriveNamespaceFromPath(rootDir, yamlPath)\n\n        // Global autodocs tags from thirdPartySettings per YAML file\n        const tps = (config as any)?.thirdPartySettings || {}\n        const sdcStorybook = tps?.sdcStorybook || {}\n        const globalTags: string[] = Array.isArray(sdcStorybook?.tags) ? sdcStorybook.tags : []\n        const hasAutodocs = globalTags.includes('autodocs')\n\n        let storiesContent: string\n\n        if (hasAutodocs) {\n          // Generate simple docs definition without individual stories\n          const docsContent = generateAutodocsContent(utilities)\n          storiesContent = generateBaseStoryStructure(\n            '// Auto-generated utility classes documentation', \n            docsContent, \n            yamlPath, \n            namespace\n          )\n        } else {\n          // Generate individual stories (original behavior)\n          const stories = generateIndividualStoriesContent(utilities, namespace)\n          storiesContent = generateBaseStoryStructure(\n            '// Auto-generated utility classes stories', \n            stories, \n            yamlPath, \n            namespace\n          )\n        }\n\n        const storiesPath = join(finalOutputDir, `utility-classes.${namespace}.stories.js`)\n        writeFileSync(storiesPath, storiesContent, 'utf8')\n        numGenerated += 1\n        logger.info(`‚úÖ Generated utility classes stories: ${storiesPath}`)\n\n        // Generate CSS only once (shared across all namespaces)\n        if (!wroteCss) {\n          const cssContent = generateUtilityClassesCSS()\n          const cssPath = join(finalOutputDir, 'utility-classes.css')\n          writeFileSync(cssPath, cssContent, 'utf8')\n          logger.info(`‚úÖ Generated utility classes CSS: ${cssPath}`)\n          wroteCss = true\n        }\n      })\n\n      if (numGenerated === 0) {\n        logger.warn(`No valid utility style configurations found`)\n        // Cleanup shared CSS if present\n        const cssPath = join(finalOutputDir, 'utility-classes.css')\n        try { if (existsSync(cssPath)) unlinkSync(cssPath) } catch {}\n      } else {\n        logger.info(`‚úÖ Processed ${numGenerated} utility style file(s) individually`)\n      }\n\n    } catch (error) {\n      logger.error(`‚ùå Failed to generate utility classes stories: ${error}`)\n      throw error\n    }\n  }\n\n  return {\n    name: 'vite-plugin-utility-classes',\n    \n    buildStart() {\n      if (generateOnStart && !hasGenerated) {\n        try {\n          generateUtilityClasses()\n          hasGenerated = true\n        } catch (error) {\n          logger.warn('Failed to generate utility classes on build start:', error)\n        }\n      }\n    },\n\n    async load(id: string) {\n      // Generate utility classes when loading any component.yml file\n      if (id.endsWith('component.yml') && !hasGenerated) {\n        try {\n          generateUtilityClasses()\n          hasGenerated = true\n        } catch (error) {\n          logger.warn('Failed to generate utility classes:', error)\n        }\n      }\n    },\n\n    async handleHotUpdate({ file }) {\n      // Regenerate utility classes when style files change\n      if (watch && file.endsWith('.ui_styles.yml')) {\n        try {\n          generateUtilityClasses()\n          logger.info('üé® Utility classes regenerated due to file change:', file)\n        } catch (error) {\n          logger.warn('Failed to regenerate utility classes:', error)\n        }\n      }\n    }\n  }\n}\n\n\n"],"mappings":";;;;;;;;;AAAA,SAAS,oBAAoB;AAC7B,SAAS,YAAY;AACrB,SAAS,SAAS,iBAAiB;AAoB5B,SAAS,wBAAwB,UAAwC;AAC9E,MAAI;AACF,UAAM,cAAc,aAAa,UAAU,MAAM;AACjD,WAAO,UAAU,WAAW;AAAA,EAC9B,SAAS,OAAO;AACd,UAAM,IAAI,MAAM,yCAAyC,KAAK,EAAE;AAAA,EAClE;AACF;AAKO,SAAS,oBAAoB,YAAiB,WAAmB,OAAwB;AAC9F,MAAI,OAAO,YAAY,oBAAoB,UAAU;AACnD,WAAO,WAAW;AAAA,EACpB;AACA,SAAO,SAAS;AAClB;AAKO,SAAS,oBAAoB,YAAiB,WAAmB,OAAe,gBAA0B,CAAC,GAAW;AAC3H,QAAM,iBAAiB,cAAc,KAAK,GAAG;AAC7C,QAAM,kBAAkB,GAAG,SAAS,IAAI,cAAc,GAAG,KAAK;AAC9D,QAAM,cAAc,oBAAoB,YAAY,WAAW,KAAK;AAEpE,SAAO;AAAA;AAAA;AAAA,gBAGO,SAAS;AAAA;AAAA;AAAA,sBAGH,eAAe;AAAA,YACzB,WAAW;AAAA;AAAA;AAAA;AAIvB;AAKO,SAAS,cAAc,WAAmB,UAAkB,YAAyB;AAC1F,QAAM,EAAE,UAAU,OAAO,aAAa,SAAS,iBAAiB,CAAC,GAAG,QAAQ,CAAC,EAAE,IAAI;AAGnF,MAAI,WAAW,YAAY,OAAO;AAChC,WAAO;AAAA,EACT;AAEA,QAAM,WAAW;AAGjB,QAAM,iBAAiB,OAAO,QAAQ,OAAO,EAC1C,IAAI,CAAC,CAAC,WAAW,WAAW,MAAM,oBAAoB,YAAY,WAAqB,aAAuB,cAAc,CAAC,EAC7H,KAAK,IAAI;AAGZ,QAAM,eAAe,MAAM,SAAS,IAChC;AAAA;AAAA;AAAA,cAGQ,MAAM,IAAI,CAAC,SAAiB,gBAAgB,IAAI,oCAAoC,IAAI,WAAW,EAAE,KAAK,EAAE,CAAC;AAAA,mBAErH;AAEJ,SAAO;AAAA,eACM,QAAQ;AAAA,YACX,SAAS,oBAAoB,QAAQ,IAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mBAIvC,eAAe,uBAAuB,MAAM,YAAY,CAAC,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOhE,KAAK;AAAA,UACT,cAAc,MAAM,WAAW,SAAS,EAAE;AAAA,UAC1C,YAAY;AAAA;AAAA,YAEV,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS1B;AAKO,SAAS,0BACd,UACA,YACQ;AACR,SAAO,cAAc,mBAAmB,UAAU,UAAU;AAC9D;AAKO,SAAS,8BAA8B,QAAsC;AAClF,QAAM,UAAU,OAAO,QAAQ,MAAM,EAClC,IAAI,CAAC,CAAC,UAAU,UAAU,MAAM,0BAA0B,UAAU,UAAU,CAAC,EAC/E,OAAO,OAAO,EACd,KAAK,MAAM;AAEd,SAAO;AAAA;AAAA;AAAA,EAGP,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaT;AAKO,SAAS,2BAA2B,SAAiB,mBAA2B,UAAkB,WAA2B;AAClI,SAAO;AAAA,IACL;AAAA,IACA,qBAAqB,QAAQ;AAAA,IAC7B;AAAA,IACA;AAAA,IACA,aAAa,SAAS;AAAA,IACtB;AAAA,IACA;AAAA,IACA;AAAA,IACA,gEAAgE,QAAQ;AAAA,IACxE;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AACb;AAKO,SAAS,wBAAwB,WAAoC;AAC1E,QAAM,qBAAqB,UACxB,IAAI,CAAC,CAAC,UAAU,UAAU,MAAM;AAC/B,UAAM,EAAE,UAAU,OAAO,aAAa,SAAS,iBAAiB,CAAC,GAAG,QAAQ,CAAC,EAAE,IAAI;AAEnF,QAAI,WAAW,YAAY,MAAO,QAAO;AAEzC,UAAM,iBAAiB,OAAO,QAAQ,OAAO,EAC1C,IAAI,CAAC,CAAC,WAAW,WAAW,MAAM,oBAAoB,YAAY,WAAqB,aAAuB,cAAc,CAAC,EAC7H,KAAK,IAAI;AAEZ,UAAM,eAAe,MAAM,SAAS,IAChC;AAAA;AAAA;AAAA,cAGI,MAAM,IAAI,CAAC,SAAiB,gBAAgB,IAAI,oCAAoC,IAAI,WAAW,EAAE,KAAK,EAAE,CAAC;AAAA,mBAEjH;AAEJ,WAAO;AAAA;AAAA,gBAEG,KAAK;AAAA,YACT,cAAc,MAAM,WAAW,SAAS,EAAE;AAAA,YAC1C,YAAY;AAAA;AAAA,cAEV,cAAc;AAAA;AAAA;AAAA,EAGxB,CAAC,EACA,OAAO,OAAO,EACd,KAAK,MAAM;AAEd,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,EAAE,KAAK,IAAI;AACb;AAKO,SAAS,iCAAiC,WAA4B,WAA2B;AACtG,SAAO,UACJ,IAAI,CAAC,CAAC,UAAU,UAAU,MAAM,cAAc,WAAW,UAAoB,UAAU,CAAC,EACxF,OAAO,OAAO,EACd,KAAK,MAAM;AAChB;AAKO,SAAS,4BAAoC;AAClD,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwFT;AAKO,SAAS,+BAA+B,cAAsB,WAAyB;AAC5F,MAAI;AAEF,UAAM,SAAS,wBAAwB,YAAY;AAGnD,UAAM,iBAAiB,8BAA8B,MAAM;AAG3D,UAAM,aAAa,0BAA0B;AAG7C,UAAM,cAAc,KAAK,WAAW,4BAA4B;AAChE,cAAQ,IAAI,EAAE,cAAc,aAAa,gBAAgB,MAAM;AAG/D,UAAM,UAAU,KAAK,WAAW,qBAAqB;AACrD,cAAQ,IAAI,EAAE,cAAc,SAAS,YAAY,MAAM;AAEvD,YAAQ,IAAI,6CAAwC,WAAW,EAAE;AACjE,YAAQ,IAAI,yCAAoC,OAAO,EAAE;AAAA,EAE3D,SAAS,OAAO;AACd,YAAQ,MAAM,oDAA+C,KAAK;AAClE,UAAM;AAAA,EACR;AACF;;;ACpWO,IAAM,SAAS;AAAA,EACpB,MAAM,CAAC,YAAoB,SAAgB;AACzC,YAAQ,IAAI,iBAAO,OAAO,IAAI,GAAG,IAAI;AAAA,EACvC;AAAA,EACA,MAAM,CAAC,YAAoB,SAAgB;AACzC,YAAQ,KAAK,iBAAO,OAAO,IAAI,GAAG,IAAI;AAAA,EACxC;AAAA,EACA,OAAO,CAAC,YAAoB,SAAgB;AAC1C,YAAQ,MAAM,UAAK,OAAO,IAAI,GAAG,IAAI;AAAA,EACvC;AAAA,EACA,OAAO,CAAC,YAAoB,SAAgB;AAC1C,YAAQ,MAAM,aAAM,OAAO,IAAI,GAAG,IAAI;AAAA,EACxC;AACF;;;ACbA,SAAS,gBAAAA,eAAc,eAAe,YAAY,kBAAkB;AACpE,SAAS,QAAAC,aAA8B;AACvC,SAAS,SAASC,kBAAiB;AACnC,SAAS,gBAAgB;AAkBzB,IAAM,wBAAwB,CAAC,SAAiB,eAAkD;AAChG,MAAI;AACF,UAAM,QAAkB,CAAC;AAGzB,UAAM,UAAUC,MAAK,SAAS,MAAM,iBAAiB;AACrD,UAAM,eAAe,SAAS,OAAO;AACrC,UAAM,KAAK,GAAG,YAAY;AAG1B,QAAI,YAAY;AACd,iBAAW,CAAC,eAAe,aAAa,KAAK,OAAO,QAAQ,UAAU,GAAG;AACvE,YAAI;AACF,gBAAM,mBAAmBA,MAAK,eAAe,MAAM,iBAAiB;AACpE,gBAAM,iBAAiB,SAAS,gBAAgB;AAChD,gBAAM,KAAK,GAAG,cAAc;AAC5B,iBAAO,KAAK,mBAAY,eAAe,MAAM,wCAAwC,aAAa,GAAG;AAAA,QACvG,SAAS,OAAO;AACd,iBAAO,KAAK,gDAAsC,aAAa,MAAM,aAAa,EAAE;AAAA,QACtF;AAAA,MACF;AAAA,IACF;AAEA,WAAO;AAAA,EACT,SAAS,OAAO;AACd,WAAO,KAAK,8CAA8C,KAAK,EAAE;AACjE,WAAO,CAAC;AAAA,EACV;AACF;AAGA,IAAM,sBAAsB,CAAC,UAAwB;AACnD,SACE,SACA,OAAO,UAAU,YACjB,OAAO,MAAM,YAAY,YACzB,MAAM,YAAY;AAEtB;AAGA,IAAM,0BAA0B,CAAC,SAAiB,aAA6B;AAC7E,QAAM,MAAM,SAAS,WAAW,OAAO,IAAI,SAAS,MAAM,QAAQ,SAAS,CAAC,IAAI;AAChF,QAAM,QAAQ,IAAI,MAAM,GAAG;AAE3B,MAAI,MAAM,SAAS,GAAG;AACpB,WAAO,MAAM,MAAM,SAAS,CAAC;AAAA,EAC/B;AACA,QAAM,OAAO,MAAM,MAAM,SAAS,CAAC;AACnC,SAAO,KAAK,QAAQ,qBAAqB,EAAE;AAC7C;AAGA,IAAM,mBAAmB,CAAC,WAAyC;AACjE,QAAM,MAAM,QAAQ,sBAAsB,CAAC;AAC3C,QAAM,eAAe,KAAK,gBAAgB,CAAC;AAC3C,QAAM,kBAAkB,KAAK,kBAAkB,CAAC;AAChD,QAAM,kBAAkB,cAAc,kBAAkB,CAAC;AACzD,QAAM,WAAW,KAAK;AACtB,QAAM,WAAW,cAAc;AAE/B,QAAM,WAAW,QAAQ,kBAAkB,CAAC;AAC5C,SACE,QAAQ,YAAY,SACpB,iBAAiB,YAAY,SAC7B,iBAAiB,YAAY,SAC7B,UAAU,YAAY,SACtB,aAAa,QACb,aAAa,QACb,QAAQ,0BAA0B;AAEtC;AA8Be,SAAR,yBAA0C,UAAuC,CAAC,GAAW;AAClG,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA,kBAAkB;AAAA,IAClB,QAAQ;AAAA,EACV,IAAI;AAEJ,MAAI,eAAe;AAEnB,QAAM,yBAAyB,MAAM;AACnC,UAAM,UAAU,QAAQ,IAAI;AAC5B,UAAM,iBAAiB,aAAaA,MAAK,SAAS,SAAS;AAG3D,UAAM,YAAY,sBAAsB,SAAS,UAAU;AAE3D,QAAI,UAAU,WAAW,GAAG;AAC1B,aAAO,KAAK,2CAA2C;AACvD;AAAA,IACF;AAEA,QAAI;AACF,aAAO,KAAK,SAAS,UAAU,MAAM,2BAA2B,UAAU,KAAK,IAAI,CAAC,EAAE;AAGtF,YAAM,oBAAoBA,MAAK,gBAAgB,4BAA4B;AAC3E,UAAI,WAAW,iBAAiB,GAAG;AACjC,YAAI;AAAE,qBAAW,iBAAiB;AAAA,QAAE,QAAQ;AAAA,QAAC;AAAA,MAC/C;AAEA,UAAI,eAAe;AACnB,UAAI,WAAW;AAGf,gBAAU,QAAQ,cAAY;AAC5B,YAAI,CAAC,WAAW,QAAQ,EAAG;AAE3B,cAAM,cAAcC,cAAa,UAAU,MAAM;AACjD,cAAM,SAASC,WAAU,WAAW;AAGpC,YAAI,iBAAiB,MAAM,GAAG;AAC5B,iBAAO,KAAK,0DAA0D,QAAQ,EAAE;AAEhF,gBAAM,KAAK,wBAAwB,SAAS,QAAQ;AACpD,gBAAM,qBAAqBF,MAAK,gBAAgB,mBAAmB,EAAE,aAAa;AAClF,cAAI;AAAE,gBAAI,WAAW,kBAAkB,EAAG,YAAW,kBAAkB;AAAA,UAAE,QAAQ;AAAA,UAAC;AAClF;AAAA,QACF;AAGA,cAAM,YAAY,OAAO,QAAQ,MAAM,EACpC,OAAO,CAAC,CAAC,EAAE,KAAK,MAAM,oBAAoB,KAAK,CAAC;AAEnD,YAAI,UAAU,WAAW,GAAG;AAC1B,iBAAO,KAAK,mCAAmC,QAAQ,EAAE;AACzD;AAAA,QACF;AAEA,cAAM,YAAY,wBAAwB,SAAS,QAAQ;AAG3D,cAAM,MAAO,QAAgB,sBAAsB,CAAC;AACpD,cAAM,eAAe,KAAK,gBAAgB,CAAC;AAC3C,cAAM,aAAuB,MAAM,QAAQ,cAAc,IAAI,IAAI,aAAa,OAAO,CAAC;AACtF,cAAM,cAAc,WAAW,SAAS,UAAU;AAElD,YAAI;AAEJ,YAAI,aAAa;AAEf,gBAAM,cAAc,wBAAwB,SAAS;AACrD,2BAAiB;AAAA,YACf;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,QACF,OAAO;AAEL,gBAAM,UAAU,iCAAiC,WAAW,SAAS;AACrE,2BAAiB;AAAA,YACf;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,QACF;AAEA,cAAM,cAAcA,MAAK,gBAAgB,mBAAmB,SAAS,aAAa;AAClF,sBAAc,aAAa,gBAAgB,MAAM;AACjD,wBAAgB;AAChB,eAAO,KAAK,6CAAwC,WAAW,EAAE;AAGjE,YAAI,CAAC,UAAU;AACb,gBAAM,aAAa,0BAA0B;AAC7C,gBAAM,UAAUA,MAAK,gBAAgB,qBAAqB;AAC1D,wBAAc,SAAS,YAAY,MAAM;AACzC,iBAAO,KAAK,yCAAoC,OAAO,EAAE;AACzD,qBAAW;AAAA,QACb;AAAA,MACF,CAAC;AAED,UAAI,iBAAiB,GAAG;AACtB,eAAO,KAAK,6CAA6C;AAEzD,cAAM,UAAUA,MAAK,gBAAgB,qBAAqB;AAC1D,YAAI;AAAE,cAAI,WAAW,OAAO,EAAG,YAAW,OAAO;AAAA,QAAE,QAAQ;AAAA,QAAC;AAAA,MAC9D,OAAO;AACL,eAAO,KAAK,oBAAe,YAAY,qCAAqC;AAAA,MAC9E;AAAA,IAEF,SAAS,OAAO;AACd,aAAO,MAAM,sDAAiD,KAAK,EAAE;AACrE,YAAM;AAAA,IACR;AAAA,EACF;AAEA,SAAO;AAAA,IACL,MAAM;AAAA,IAEN,aAAa;AACX,UAAI,mBAAmB,CAAC,cAAc;AACpC,YAAI;AACF,iCAAuB;AACvB,yBAAe;AAAA,QACjB,SAAS,OAAO;AACd,iBAAO,KAAK,sDAAsD,KAAK;AAAA,QACzE;AAAA,MACF;AAAA,IACF;AAAA,IAEA,MAAM,KAAK,IAAY;AAErB,UAAI,GAAG,SAAS,eAAe,KAAK,CAAC,cAAc;AACjD,YAAI;AACF,iCAAuB;AACvB,yBAAe;AAAA,QACjB,SAAS,OAAO;AACd,iBAAO,KAAK,uCAAuC,KAAK;AAAA,QAC1D;AAAA,MACF;AAAA,IACF;AAAA,IAEA,MAAM,gBAAgB,EAAE,KAAK,GAAG;AAE9B,UAAI,SAAS,KAAK,SAAS,gBAAgB,GAAG;AAC5C,YAAI;AACF,iCAAuB;AACvB,iBAAO,KAAK,6DAAsD,IAAI;AAAA,QACxE,SAAS,OAAO;AACd,iBAAO,KAAK,yCAAyC,KAAK;AAAA,QAC5D;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;","names":["readFileSync","join","parseYaml","join","readFileSync","parseYaml"]}